<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Customer Questions - üçÉ Leef</title>
  <style>
    :root {
      --green: #16a34a;
      --red: #dc2626;
      --blue: #2563eb;
      --bg: #fafaf9;
      --card: #fff;
      --muted: #555;
      --shadow: rgba(0, 0, 0, 0.1);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Arial, sans-serif;
    }

    body {
      background: var(--bg);
      display: flex;
      min-height: 100vh;
    }

    aside {
      width: 240px;
      background: var(--card);
      padding: 1.5em 1em;
      box-shadow: 2px 0 6px var(--shadow);
      display: flex;
      flex-direction: column;
      gap: 1.2em;
    }

    aside .logo {
      display: flex;
      align-items: center;
      gap: 0.5em;
      font-size: 1.5rem;
      margin-bottom: 2em;
      text-decoration: none;
      color: var(--green);
      font-weight: bold;
    }

    aside nav a {
      display: block;
      padding: 0.7em 0.6em;
      color: var(--muted);
      text-decoration: none;
      border-radius: 0.5em;
      transition: background 0.2s, color 0.2s;
      font-size: 1.05rem;
    }

    aside nav a.active,
    aside nav a:hover {
      background: var(--green);
      color: #fff;
      font-weight: bold;
    }

    aside button.redeem-btn {
      margin-top: auto;
      width: 100%;
      background: var(--red);
      color: #fff;
      border: none;
      padding: 0.7em;
      border-radius: 0.5em;
      cursor: pointer;
      font-weight: bold;
      font-size: 1rem;
    }

    main {
      flex: 1;
      padding: 2.5em 3em;
      display: flex;
      flex-direction: column;
      gap: 2em;
    }

    h1 {
      font-size: 2rem;
      margin-bottom: 0.5em;
      color: #1a2e05;
    }

    .card {
      background: var(--card);
      padding: 1.5em;
      border-radius: 1em;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.07);
      margin-bottom: 2em;
    }

    .question-list {
      margin-top: 1em;
    }

    .question-item {
      border-bottom: 1px solid #eee;
      padding: 1em 0;
      display: flex;
      flex-direction: column;
      gap: 0.5em;
    }

    .question-header {
      display: flex;
      align-items: center;
      gap: 1em;
    }

    .question-product {
      font-weight: 600;
      color: #256029;
    }

    .question-user {
      color: #555;
      font-size: 0.98em;
    }

    .question-date {
      color: #888;
      font-size: 0.93em;
      margin-left: auto;
    }

    .badge-new {
      background: var(--red);
      color: #fff;
      font-size: 0.85em;
      border-radius: 0.7em;
      padding: 0.2em 0.8em;
      margin-left: 0.7em;
    }

    .no-questions {
      color: #888;
      font-size: 1.1em;
      text-align: center;
      margin: 2em 0;
    }

    .answer-box {
      display: flex;
      gap: 0.5em;
      margin-top: 0.3em;
    }

    .answer-box input {
      flex: 1;
      padding: 0.5em;
      border: 1px solid #ccc;
      border-radius: 0.4em;
    }

    .answer-box button {
      background: var(--blue);
      color: #fff;
      border: none;
      border-radius: 0.4em;
      padding: 0.5em 1em;
      font-weight: 600;
      cursor: pointer;
    }

    .admin-answer {
      margin-top: 0.4em;
      color: #256029;
    }

    @media(max-width:900px) {
      main {
        padding: 1em;
      }
    }
  </style>
</head>

<body>
  <!-- Sidebar -->
  <aside>
    <a href="#" class="logo"> üçÉ Leef</a>
    <nav>
      <a href="admin-dashboard.html">Overview</a>
      <a href="new-registration.html">Registration Requests</a>
      <a href="order.html">Orders</a>
      <a href="product-admin.html">Products</a>
      <a href="feedback-admin.html">Feedback</a>
      <a href="questions-admin.html" class="active">Questions</a>
      <a href="refund-approval.html">Refunds</a>

      <a href="admin-profile.html">Profile</a>
    </nav>
    <button class="redeem-btn">Logout</button>
  </aside>

  <!-- Main -->
  <main>
    <h1>Customer Questions</h1>
    <div class="card">
      <div id="questionCount" style="font-weight:600; color:#256029; margin-bottom:1em;"></div>
      <div class="question-list" id="questionList">
        <!-- Questions will be rendered here -->
      </div>
    </div>
  </main>
  <script>
    // Example questions data - seller/customer names removed and replaced with IDs
    const questions = [
      {
        id: 1,
        product: "Tomato",
        customerId: "CUST-1001",
        date: "2025-10-15",
        text: "Is this organic?",
        isNew: true,
        answer: ""
      },
      {
        id: 2,
        product: "Banana",
        customerId: "CUST-1002",
        date: "2025-10-14",
        text: "How long is the shelf life?",
        isNew: true,
        answer: ""
      },
      {
        id: 3,
        product: "Potato",
        customerId: "CUST-1003",
        date: "2025-10-10",
        text: "Is this available in 5kg packs?",
        isNew: false,
        answer: "Yes, 5kg packs are available."
      }
    ];

    function renderQuestions() {
      const list = document.getElementById('questionList');
      const count = document.getElementById('questionCount');
      list.innerHTML = '';
      const newCount = questions.filter(q => q.isNew).length;

      if (questions.length === 0) {
        count.textContent = "No questions";
        list.innerHTML = `<div class="no-questions">No questions available.</div>`;
        return;
      }

      count.textContent = newCount > 0 ? `${newCount} new question${newCount > 1 ? 's' : ''}` : "No new questions";

      questions.forEach((q, idx) => {
        const item = document.createElement('div');
        item.className = 'question-item';
        item.innerHTML = `
          <div class="question-header">
            <span class="question-product">${q.product}</span>
            <span class="question-user">Customer ID: ${q.customerId}</span>
            <span class="question-date">${q.date}</span>
            ${q.isNew ? '<span class="badge-new">New</span>' : ''}
          </div>
          <div class="question-text">${q.text}</div>
          <div class="admin-answer" id="answer-${q.id}">
            ${q.answer ? `<b>Admin answer:</b> <span>${q.answer}</span>` : `
              <div class="answer-box">
                <input type="text" placeholder="Write an answer..." id="input-answer-${q.id}">
                <button onclick="answerQuestion(${idx})">Answer</button>
              </div>
            `}
          </div>
        `;
        list.appendChild(item);
      });
    }

    function answerQuestion(idx) {
      const q = questions[idx];
      const input = document.getElementById('input-answer-' + q.id);
      if (input && input.value.trim() !== "") {
        q.answer = input.value.trim();
        q.isNew = false;
        renderQuestions();
      }
    }

    // Initial render
    renderQuestions();
  </script>
</body>

</html>